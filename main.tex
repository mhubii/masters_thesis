%% Template for Master thesis
%% ===========================
%%
%% You need at least KomaScript v3.0.0,
%% e.g. available in Texlive 2009
\documentclass  [
paper    = a4,
BCOR     = 10mm,
twoside,
fontsize = 12pt,
toc      = bibnumbered,
toc      = listofnumbered,
numbers  = noendperiod,
headings = normal,
listof   = leveldown,
version  = 3.03
]                                       {scrreprt}

% used pagages
\usepackage     [utf8]                  {inputenc}
\usepackage     [T1]                    {fontenc}
\usepackage                             {color}
\usepackage                             {amsmath, amssymb}
\usepackage                             {graphicx}
\usepackage     [english]               {babel}
\usepackage                             {natbib}
\usepackage                             {hyperref}

% my packages
\usepackage{bm}
\usepackage{subcaption}
\usepackage{multirow}
\usepackage{animate}           % for animated gifs
\usepackage{listings}          % for code
\usepackage{algorithm2e}       % algorithm
\usepackage{forest}            % folder structure
\usepackage{placeins}          % figures in sections
\usepackage{minted}            % cpp style
\usepackage{fancyhdr}

\setminted{fontsize=\small,baselinestretch=1}

\pagestyle{fancy}
\fancyhead[LE,RO]{\nouppercase \rightmark}
\fancyhead[LO,RE]{\nouppercase Chapter \arabic{chapter}}

%%%%%%%%%%%%
%%% YAML %%%
%%%%%%%%%%%%
\newcommand\YAMLcolonstyle{\color{black}\mdseries}
\newcommand\YAMLkeystyle{\color{black}\bfseries}
\newcommand\YAMLvaluestyle{\color{blue}\mdseries}

\makeatletter

% here is a macro expanding to the name of the language
% (handy if you decide to change it further down the road)
\newcommand\language@yaml{yaml}

\expandafter\expandafter\expandafter\lstdefinelanguage
\expandafter{\language@yaml}
{
	keywords={true,false},
	keywordstyle=\color{blue},
	basicstyle=\YAMLkeystyle\scriptsize,                                 % assuming a key comes first
	sensitive=false,
	comment=[l]{\#},
	morecomment=[s]{/*}{*/},
	commentstyle=\color{red}\ttfamily,
	stringstyle=\YAMLvaluestyle,%\ttfamily,
	moredelim=[l][\color{orange}]{\&},
	moredelim=[l][\color{magenta}]{*},
	moredelim=**[il][\YAMLcolonstyle{:}\YAMLvaluestyle]{:},   % switch to value style at :
	morestring=[b]',
	morestring=[b]",
	literate =    {---}{{\ProcessThreeDashes}}3
	{>}{{\textcolor{red}\textgreater}}1     
	{|}{{\textcolor{red}\textbar}}1 
	{\ -\ }{{\mdseries\ -\ }}3,
}

% switch to key style at EOL
\lst@AddToHook{EveryLine}{\ifx\lst@language\language@yaml\YAMLkeystyle\fi}
\makeatother

\newcommand\ProcessThreeDashes{\llap{\color{cyan}\mdseries-{-}-}}
%%%%%%%%%%%%
%%% YAML %%%
%%%%%%%%%%%%

% my commands
\definecolor{lightgray}{gray}{0.9}
\newcommand{\inlinecode}[2]{\colorbox{lightgray}{\lstinline[language=#1]$#2$}}


% links
\definecolor{darkblue}{rgb}{0.0,0.0,0.4}
\definecolor{darkgreen}{rgb}{0.0,0.4,0.0}
\hypersetup{
	colorlinks,
	linkcolor=black,
	citecolor=darkgreen,
	urlcolor=darkblue
}

\begin{document}
	%% title pages similar to providet template instead of maketitle
	\include{chapters/00_title/titlepages-ger} % select either german
	\include{chapters/00_title/titlepages-eng} % or english title page
	\include{chapters/00_title/abstracts}
	
	\tableofcontents
	
	%% chapters
	\chapter{Introduction}
	\input{chapters/01_introduction/00_in}
	
	\chapter{Theoretical Foundations for Humanoid Walking}
	\input{chapters/02_foundations_for_humanoid_walking/00_hw}   % short overview of humamnoid walking
	\input{chapters/02_foundations_for_humanoid_walking/10_zmp}  % zero moment point
	\input{chapters/02_foundations_for_humanoid_walking/20_nmpc} % nonlinear model predictive control
	\input{chapters/02_foundations_for_humanoid_walking/30_ip}   % interpolation
	\input{chapters/02_foundations_for_humanoid_walking/40_ki}   % kinematics

	\chapter{Fundamentals of Image Processing for Depth Map Extraction}
	\input{chapters/03_fundamentals_of_image_processing/00_ip}   % image processing
	
	\chapter{Principles of Machine Learning}
	\input{chapters/04_principles_of_machine_learning/00_ml}   % short overview of machine learning
	\input{chapters/04_principles_of_machine_learning/10_nn}   % short introduction to neural networks
	\input{chapters/04_principles_of_machine_learning/20_rl}   % reinforcement learning

	\chapter{Heicub: Our Humanoid Robot}
	\input{chapters/05_heicub_our_humanoid_robot/00_he}

	\chapter{Implementation of the Walking Pattern Generator}
	\input{chapters/06_implementation_of_the_walking_pattern_generator/00_in}
	\input{chapters/06_implementation_of_the_walking_pattern_generator/10_oc}   % short overview of humanoid walking
	\input{chapters/06_implementation_of_the_walking_pattern_generator/20_id}
	\input{chapters/06_implementation_of_the_walking_pattern_generator/30_us}
	
	\chapter{Autonomous High-Level Control of the Walking Pattern Generator}
	\input{chapters/07_autonomous_high_level_control_of_the_walking_pattern_generator/00_in}   % introduction to implementation
	%\input{chapters/07_autonomous_high_level_control_of_the_walking_pattern_generator/00_ip}  % image processing, re-use parts for bc
	\input{chapters/07_autonomous_high_level_control_of_the_walking_pattern_generator/10_bc}   % behavioral cloning
	\input{chapters/07_autonomous_high_level_control_of_the_walking_pattern_generator/20_rl}   % reinforcement learning
	
	\chapter{Running the Autonomous Walking Pattern Generator on Heicub}
	\input{chapters/08_running_the_autonomous_walking_pattern_generator_on_heicub/00_he}
	
	\chapter{User-Controlled Walking Experiments}
	\input{chapters/09_user_controlled_walking_experiments/00_uc}

	\chapter{Image Processing Experiments}
	\input{chapters/10_image_processing_experiments/00_ip}

	\chapter{Autonomously Controlled Walking Experiments}
	\input{chapters/11_autonomous_walking_experiments/00_aw}
	
	\chapter{Conclusion}
	\input{chapters/12_conclusion/00_in}
	
	\part{Appendix}
	\begin{appendix}
		\label{sec::a}
		\input{chapters/13_appendix/00_si}
		\input{chapters/13_appendix/01_su}
		\chapter{Lists}
		\listoffigures
		\listoftables
		\bibliographystyle{unsrt}
		\bibliography{chapters/13_appendix/references}
		\input{chapters/13_appendix/acknowledgements}
		\include{chapters/13_appendix/deposition}
	\end{appendix}
\end{document}
